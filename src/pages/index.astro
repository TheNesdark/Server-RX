---
import Layout from "@/layouts/layout.astro";
import StudiesList from "@/components/Studies/StudiesList";
import { getLocalStudies, getLocalStudiesCount } from "@/libs/db"
import { STUDIES_PAGE_LIMIT } from "@/config/pagination";
import type { Study } from "@/types";


const studies = await getLocalStudies(STUDIES_PAGE_LIMIT, 0) as Study[];
const totalStudies = await getLocalStudiesCount();
---

<Layout title="Orthanc Explorer">
	<main>
		<StudiesList
			client:load
			total={totalStudies}
			studies={studies}
			currentPage={1}
		/>
	</main>
</Layout>
